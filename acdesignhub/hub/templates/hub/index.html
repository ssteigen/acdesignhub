{% extends '__base.html' %}

{% load hub_extras %}

{% block content %}

<div class="container">
<ul class="nav-design-types nav d-flex justify-content-between my-2">
    <li class="nav-item mb-2">
        <a href="/" class="btn btn-{% if design_type_selected %}secondary{% else %}primary{% endif %}">All</a>
    </li>
    {% for value, label in design_types %}
        <li class="nav-item mb-2">
            <a href="/?design_type={{value}}" class="btn btn-{% if value == design_type_selected %}primary{% else %}secondary{% endif %}">
                {{ label }}
            </a>
        </li>
    {% endfor %}
</ul>
</div>

<div class="text-center bg-info py-2 my-4 rounded-pill">
    Displaying {{ designs|length }} design{{ designs|length|pluralize }}
</div>

<div class="row row-cols-1 row-cols-md-3">
    {% for design in designs %}
    <div class="col mb-4">
        <div class="card">
            <div class="card-header bg-white border-0">
                <div class="row">
                    <div class="col">
                        <h2 class="h5 mb-0 card-title text-break">
                            <strong>{{ design.design_name }}</strong>
                            <br>
                            <small>By {{ design.creator_name }}</small>
                        </h2>
                    </div>
                    <div class="col-auto">
                        <a target="_blank" href="design/{{ design.design_code }}/download" class="btn-download btn btn-secondary btn-sm" >
                            <i class="fas fa-download"></i>
                            <span class="sr-only">Download Image</span>
                        </a>
                    </div>
                </div>

            </div><!-- /.card-header -->
            <a href="/design/{{design.design_code}}">
                <img class="card-img rounded-0" src="{{ design.original_image.url }}" />
            </a>
            <div class="card-body">
                <dl class="mb-0">
                    <dt>Creator Code</dt>
                    <dd>
                        <a href="/?creator_code={{design.creator_code}}">
                            <code>{{ design.creator_code|format_design_code }}</code>
                        </a>
                    </dd>
                    <dt>Design Code</dt>
                    <dd>
                        <a href="/design/{{design.design_code}}">
                            <code>{{ design.design_code|format_design_code }}</code>
                        </a>
                    </dd>
                    <dt>Design Type</dt>
                    <dd class="mb-0">
                        <a href="/?design_type={{design.design_type}}">
                            {{ design.get_design_type_display }}
                        </a>
                    </dd>
                </dl>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

{% endblock %}
